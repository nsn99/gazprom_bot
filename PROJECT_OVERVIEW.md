# Gazprom Trading Bot - ะะฑะทะพั ะฟัะพะตะบัะฐ

## ๐ฏ ะะธััะธั ะฟัะพะตะบัะฐ

ะกะพะทะดะฐะฝะธะต ะธะฝัะตะปะปะตะบััะฐะปัะฝะพะน ะฐะฒัะพะผะฐัะธะทะธัะพะฒะฐะฝะฝะพะน ัะธััะตะผั ะดะปั ัะพัะณะพะฒะปะธ ะฐะบัะธัะผะธ ะะะ "ะะฐะทะฟัะพะผ" (GAZP) ะฝะฐ ะะพัะบะพะฒัะบะพะน ะฑะธัะถะต ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ ะฟะตัะตะดะพะฒัั AI-ัะตัะฝะพะปะพะณะธะน GPT-5 ัะตัะตะท AgentRouter API.

## ๐๏ธ ะััะธัะตะบัััะฐ ัะธััะตะผั

### ะะพะผะฟะพะฝะตะฝัั

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Telegram Bot  โ    โ  AI Advisor     โ    โ  Market Data    โ
โ                 โ    โ  (GPT-5)        โ    โ  (MOEX API)     โ
โ - User Interfaceโโโโโบโ - Analysis      โโโโโบโ - Price Data    โ
โ - Commands      โ    โ - Recommendationsโ    โ - History       โ
โ - Notifications โ    โ - Risk Managementโ    โ - Indicators   โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
                    โโโโโโโโโโโโโโโโโโโ
                    โ Portfolio Mgmt  โ
                    โ                 โ
                    โ - Positions     โ
                    โ - Transactions  โ
                    โ - Performance   โ
                    โ - Risk Control  โ
                    โโโโโโโโโโโโโโโโโโโ
                                 โ
                    โโโโโโโโโโโโโโโโโโโ
                    โ   Database      โ
                    โ                 โ
                    โ - Users         โ
                    โ - Portfolios    โ
                    โ - Transactions  โ
                    โ - Recommendationsโ
                    โโโโโโโโโโโโโโโโโโโ
```

### ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

- **ะฏะทัะบ ะฟัะพะณัะฐะผะผะธัะพะฒะฐะฝะธั**: Python 3.11+
- **AI Provider**: AgentRouter API (GPT-5)
- **Telegram Framework**: python-telegram-bot 20.7+
- **ะะฐะทะฐ ะดะฐะฝะฝัั**: SQLite/PostgreSQL (SQLAlchemy 2.0+)
- **ะัะฝะพัะฝัะต ะดะฐะฝะฝัะต**: MOEX ISS API
- **ะะธะทัะฐะปะธะทะฐัะธั**: Matplotlib, Plotly
- **ะะพะฝัะตะนะฝะตัะธะทะฐัะธั**: Docker, Docker Compose
- **CI/CD**: GitHub Actions

## ๐ ะะปััะตะฒัะต ััะฝะบัะธะธ

### 1. AI-ะฐะฝะฐะปะธะท ััะฝะบะฐ
- **GPT-5 ัะตะบะพะผะตะฝะดะฐัะธะธ** ัะตัะตะท AgentRouter
- **ะขะตัะฝะธัะตัะบะธะน ะฐะฝะฐะปะธะท**: RSI, MACD, Moving Averages, Bollinger Bands
- **ะฃะฟัะฐะฒะปะตะฝะธะต ัะธัะบะฐะผะธ**: ะฐะฒัะพะผะฐัะธัะตัะบะธะต ััะพะฟ-ะปะพััั ะธ ัะตะนะบ-ะฟัะพัะธัั
- **ะะฑะพัะฝะพะฒะฐะฝะธะต ัะตัะตะฝะธะน** ะฒ ะตััะตััะฒะตะฝะฝะพะผ ัะทัะบะต

### 2. ะขะพัะณะพะฒะปั ะธ ะฟะพัััะตะปั
- **ะกะธะผัะปััะธะพะฝะฝะฐั ัะพัะณะพะฒะปั** ะฐะบัะธัะผะธ GAZP
- **ะะพัััะตะปัะฝะพะต ัะฟัะฐะฒะปะตะฝะธะต** ั ะพััะปะตะถะธะฒะฐะฝะธะตะผ P&L
- **ะััะพัะธั ััะฐะฝะทะฐะบัะธะน** ั ะดะตัะฐะปัะฝะพะน ััะฐัะธััะธะบะพะน
- **ะกัะฐะฒะฝะตะฝะธะต ั ะฑะตะฝัะผะฐัะบะพะผ** IMOEX

### 3. ะะธะทัะฐะปะธะทะฐัะธั ะธ ะพััะตัั
- **ะัะฐัะธะบะธ ัะตะฝ** ั ัะตัะฝะธัะตัะบะธะผะธ ะธะฝะดะธะบะฐัะพัะฐะผะธ
- **ะัะฐัะธะบะธ ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ** ะฟะพัััะตะปั
- **ะะฝัะตัะฐะบัะธะฒะฝัะต ัะฐััั** ั Plotly
- **ะญะบัะฟะพัั ะดะฐะฝะฝัั** ะฒ CSV

### 4. ะฃะฒะตะดะพะผะปะตะฝะธั ะธ ะฐะฒัะพะผะฐัะธะทะฐัะธั
- **Push-ัะฒะตะดะพะผะปะตะฝะธั** ะพ ะฒะฐะถะฝัั ัะพะฑััะธัั
- **ะะฒัะพะผะฐัะธัะตัะบะธะต ัะตะบะพะผะตะฝะดะฐัะธะธ** ะฟะพ ัะฐัะฟะธัะฐะฝะธั
- **ะะปะตััั** ะพ ะดะพััะธะถะตะฝะธะธ ััะพะฟ-ะปะพััะพะฒ/ัะตะนะบ-ะฟัะพัะธัะพะฒ

## ๐ ะกัััะบัััะฐ ะฑะฐะทั ะดะฐะฝะฝัั

### ะัะฝะพะฒะฝัะต ัะฐะฑะปะธัั

```sql
-- ะะพะปัะทะพะฒะฐัะตะปะธ
CREATE TABLE users (
    user_id BIGINT PRIMARY KEY,
    telegram_username VARCHAR(255),
    initial_capital DECIMAL(15, 2),
    current_cash DECIMAL(15, 2),
    created_at TIMESTAMP,
    last_active TIMESTAMP
);

-- ะะพะทะธัะธะธ
CREATE TABLE positions (
    id SERIAL PRIMARY KEY,
    user_id BIGINT REFERENCES users(user_id),
    ticker VARCHAR(10) DEFAULT 'GAZP',
    shares INTEGER,
    avg_purchase_price DECIMAL(10, 2),
    current_price DECIMAL(10, 2),
    unrealized_pnl DECIMAL(15, 2),
    updated_at TIMESTAMP
);

-- ะขัะฐะฝะทะฐะบัะธะธ
CREATE TABLE transactions (
    id SERIAL PRIMARY KEY,
    user_id BIGINT REFERENCES users(user_id),
    action VARCHAR(4), -- BUY/SELL
    ticker VARCHAR(10),
    shares INTEGER,
    price DECIMAL(10, 2),
    total_amount DECIMAL(15, 2),
    timestamp TIMESTAMP,
    ai_recommendation TEXT
);

-- AI ัะตะบะพะผะตะฝะดะฐัะธะธ
CREATE TABLE ai_recommendations (
    id SERIAL PRIMARY KEY,
    user_id BIGINT REFERENCES users(user_id),
    recommendation_json TEXT,
    executed BOOLEAN DEFAULT FALSE,
    timestamp TIMESTAMP
);
```

## ๐ค AI ะธะฝัะตะณัะฐัะธั

### ะัะพะผะฟั ะดะปั GPT-5

```python
SYSTEM_PROMPT = """
ะขั โ ะฟะพัััะตะปัะฝัะน ะผะตะฝะตะดะถะตั, ัะฟะตัะธะฐะปะธะทะธััััะธะนัั ะฝะฐ ัะพัะณะพะฒะปะต ะฐะบัะธัะผะธ 
ะะะ "ะะฐะทะฟัะพะผ" (GAZP) ะฝะฐ ะะพัะบะพะฒัะบะพะน ะฑะธัะถะต.

ะขะะะฃะฉะะ ะะะะขะคะะะฌ:
- ะะตะฝะตะถะฝัะต ััะตะดััะฒะฐ: {cash} RUB
- ะะบัะธะธ GAZP: {shares} ัั.
- ะกัะตะดะฝัั ัะตะฝะฐ ะฟะพะบัะฟะบะธ: {avg_price} RUB
- ะขะตะบััะฐั ัะตะฝะฐ: {current_price} RUB
- ะะฑัะฐั ััะพะธะผะพััั: {total_value} RUB
- P&L: {pnl} RUB ({pnl_percent}%)

ะะซะะะงะะซะ ะะะะะซะ:
- ะฆะตะฝะฐ ะพัะบัััะธั: {open_price} RUB
- ะะฐะบัะธะผัะผ ะดะฝั: {high_price} RUB
- ะะธะฝะธะผัะผ ะดะฝั: {low_price} RUB
- ะะฑัะตะผ ัะพัะณะพะฒ: {volume}
- ะะทะผะตะฝะตะฝะธะต ะทะฐ ะดะตะฝั: {daily_change}%
- RSI(14): {rsi}
- MACD: {macd}

ะะะะะะะ ะขะะะะะะะ:
1. ะะฐะบัะธะผะฐะปัะฝัะน ัะฐะทะผะตั ะพะดะฝะพะน ะฟะพะทะธัะธะธ: 30% ะพั ะบะฐะฟะธัะฐะปะฐ
2. ะกัะพะฟ-ะปะพัั: ะพะฑัะทะฐัะตะปะตะฝ ะฟัะธ ะปัะฑะพะน ะฟะพะบัะฟะบะต (-5% ะพั ัะตะฝั ะฒัะพะดะฐ)
3. ะขะตะนะบ-ะฟัะพัะธั: ะผะธะฝะธะผัะผ +10% ะพั ัะตะฝั ะฒัะพะดะฐ
4. ะะต ัะพัะณะพะฒะฐัั ะฒ ะฟะตัะฒัะต/ะฟะพัะปะตะดะฝะธะต 15 ะผะธะฝัั ัะพัะณะพะฒะพะน ัะตััะธะธ
5. ะฃัะธััะฒะฐัั ะณะตะพะฟะพะปะธัะธัะตัะบะธะต ัะธัะบะธ ะธ ะฝะพะฒะพััะธ ะพ ะบะพะผะฟะฐะฝะธะธ

ะคะะะะะข ะะขะะะขะ:
ะะฐะน ัะตะบะพะผะตะฝะดะฐัะธั ะฒ ัะพัะผะฐัะต JSON:
{
  "action": "BUY/SELL/HOLD",
  "quantity": <ะบะพะปะธัะตััะฒะพ ะฐะบัะธะน>,
  "reasoning": "<ะพะฑะพัะฝะพะฒะฐะฝะธะต ัะตัะตะฝะธั>",
  "stop_loss": <ัะตะฝะฐ ััะพะฟ-ะปะพััะฐ>,
  "take_profit": <ัะตะฝะฐ ัะตะนะบ-ะฟัะพัะธัะฐ>,
  "risk_level": "LOW/MEDIUM/HIGH",
  "confidence": <0-100>
}
"""
```

## ๐ฑ Telegram ะธะฝัะตััะตะนั

### ะัะฝะพะฒะฝัะต ะบะพะผะฐะฝะดั

| ะะพะผะฐะฝะดะฐ | ะะฟะธัะฐะฝะธะต | ะัะธะผะตั |
|---------|-----------|--------|
| `/start` | ะกะพะทะดะฐะฝะธะต ะฟะพัััะตะปั | `/start` |
| `/portfolio` | ะขะตะบััะธะน ะฟะพัััะตะปั | `/portfolio` |
| `/recommend` | AI-ัะตะบะพะผะตะฝะดะฐัะธั | `/recommend` |
| `/execute` | ะัะฟะพะปะฝะธัั ัะดะตะปะบั | `/execute BUY 10` |
| `/history` | ะััะพัะธั ััะฐะฝะทะฐะบัะธะน | `/history` |
| `/performance` | ะัะฐัะธะบ ะดะพัะพะดะฝะพััะธ | `/performance` |
| `/balance` | ะะฐะปะฐะฝั ะธ ะฟะพะทะธัะธะธ | `/balance` |
| `/help` | ะกะฟัะฐะฒะบะฐ | `/help` |

### ะะฐััะธัะตะฝะฝัะต ะบะพะผะฐะฝะดั

| ะะพะผะฐะฝะดะฐ | ะะฟะธัะฐะฝะธะต | ะัะธะผะตั |
|---------|-----------|--------|
| `/setinitial` | ะะฐัะฐะปัะฝัะน ะบะฐะฟะธัะฐะป | `/setinitial 100000` |
| `/setrisklimit` | ะะธะผะธั ัะธัะบะฐ | `/setrisklimit 5` |
| `/subscribe` | ะะฒัะพะผะฐัะธัะตัะบะธะต ัะตะบะพะผะตะฝะดะฐัะธะธ | `/subscribe daily` |
| `/technical` | ะขะตัะฝะธัะตัะบะธะต ะธะฝะดะธะบะฐัะพัั | `/technical` |
| `/export` | ะญะบัะฟะพัั ะดะฐะฝะฝัั | `/export` |

## ๐ง ะะฐะทะฒะตัััะฒะฐะฝะธะต

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ

```bash
git clone https://github.com/your-repo/gazprom-trading-bot.git
cd gazprom-trading-bot
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
cp .env.example .env
# ะััะตะดะฐะบัะธัะพะฒะฐัั .env
python run.py
```

### Docker ัะฐะทะฒะตัััะฒะฐะฝะธะต

```bash
docker build -t gazprom-bot .
docker run -d --name gazprom-bot --env-file .env gazprom-bot
```

### Production ัะฐะทะฒะตัััะฒะฐะฝะธะต

- **ะะฐะทะฐ ะดะฐะฝะฝัั**: PostgreSQL
- **ะะตะฑ-ัะตัะฒะตั**: Nginx
- **ะัะพัะตัั-ะผะตะฝะตะดะถะตั**: systemd
- **ะะพะฝะธัะพัะธะฝะณ**: Prometheus + Grafana
- **ะะพะณะธัะพะฒะฐะฝะธะต**: ELK Stack

## ๐ ะะตััะธะบะธ ััะฟะตัะฐ

### ะขะตัะฝะธัะตัะบะธะต ะผะตััะธะบะธ
- **Uptime ะฑะพัะฐ**: > 99%
- **ะัะตะผั ะพัะฒะตัะฐ**: < 5 ัะตะบัะฝะด
- **ะฃัะฟะตัะฝะพััั AI ะทะฐะฟัะพัะพะฒ**: > 95%
- **ะัะธะฑะบะธ MOEX API**: < 1%

### ะะธะทะฝะตั-ะผะตััะธะบะธ
- **ะะพะปะธัะตััะฒะพ ะฐะบัะธะฒะฝัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน**
- **ะะพะปะธัะตััะฒะพ ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัั ัะตะบะพะผะตะฝะดะฐัะธะน**
- **ะัะพัะตะฝั ะธัะฟะพะปะฝะตะฝะฝัั ัะตะบะพะผะตะฝะดะฐัะธะน**
- **ะกัะตะดะฝัั ะดะพัะพะดะฝะพััั ะฟะพัััะตะปะตะน vs IMOEX ะธะฝะดะตะบั**

## ๐ก๏ธ ะะตะทะพะฟะฐัะฝะพััั

### ะะตัั ะฑะตะทะพะฟะฐัะฝะพััะธ
- **ะจะธััะพะฒะฐะฝะธะต** ััะฒััะฒะธัะตะปัะฝัั ะดะฐะฝะฝัั
- **ะะฐะปะธะดะฐัะธั** ะฒัะพะดะฝัั ะดะฐะฝะฝัั
- **Rate limiting** ะดะปั ะฟัะตะดะพัะฒัะฐัะตะฝะธั ะทะปะพัะฟะพััะตะฑะปะตะฝะธะน
- **ะัะดะธั** ะฒัะตั ะพะฟะตัะฐัะธะน
- **ะะตะทะตัะฒะฝะพะต ะบะพะฟะธัะพะฒะฐะฝะธะต** ะฑะฐะทั ะดะฐะฝะฝัั

### ะะตะบะพะผะตะฝะดะฐัะธะธ
1. ะัะฟะพะปัะทัะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั ะดะปั ัะตะบัะตัะพะฒ
2. ะะตะณัะปััะฝะพ ะพะฑะฝะพะฒะปัะนัะต ะทะฐะฒะธัะธะผะพััะธ
3. ะะพะฝะธัะพัััะต ะปะพะณะธ ะฑะตะทะพะฟะฐัะฝะพััะธ
4. ะะตะทะตัะฒะธััะนัะต ะฑะฐะทั ะดะฐะฝะฝัั

## ๐ ะัะดััะตะต ัะฐะทะฒะธัะธะต

### ะะปะฐะฝะธััะตะผัะต ััะฝะบัะธะธ

#### ะัะฐัะบะพััะพัะฝัะต (3-6 ะผะตัััะตะฒ)
- [ ] ะะพะดะดะตัะถะบะฐ ะดััะณะธั ัะพััะธะนัะบะธั ะฐะบัะธะน (SBER, LKOH, ROSN)
- [ ] ะะพะฑะธะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต
- [ ] ะฃะปัััะตะฝะฝัะต ัะตัะฝะธัะตัะบะธะต ะธะฝะดะธะบะฐัะพัั
- [ ] ะะฝัะตะณัะฐัะธั ั ะฝะพะฒะพััะฝัะผะธ ะธััะพัะฝะธะบะฐะผะธ

#### ะกัะตะดะฝะตััะพัะฝัะต (6-12 ะผะตัััะตะฒ)
- [ ] ะะฝัะตะณัะฐัะธั ั ัะตะฐะปัะฝัะผะธ ะฑัะพะบะตัะฐะผะธ
- [ ] ะัะปััะธะฐะบัะธะฒะฝัะน ะฟะพัััะตะปั (ะฐะบัะธะธ + ะพะฑะปะธะณะฐัะธะธ)
- [ ] ะกะพัะธะฐะปัะฝัะต ััะฝะบัะธะธ (ัะปะตะดะพะฒะฐะฝะธะต ะทะฐ ััะตะนะดะตัะฐะผะธ)
- [ ] ะะฐััะธัะตะฝะฝะฐั ะฐะฝะฐะปะธัะธะบะฐ ะธ ะพััะตัั

#### ะะพะปะณะพััะพัะฝัะต (1+ ะณะพะด)
- [ ] Machine Learning ะผะพะดะตะปะธ ะดะปั ะฟัะตะดัะบะฐะทะฐะฝะธั
- [ ] ะะฝัะตะณัะฐัะธั ั ะผะตะถะดัะฝะฐัะพะดะฝัะผะธ ััะฝะบะฐะผะธ
- [ ] API ะดะปั ััะพัะพะฝะฝะธั ัะฐะทัะฐะฑะพััะธะบะพะฒ
- [ ] White-label ัะตัะตะฝะธะต ะดะปั ะฑะฐะฝะบะพะฒ

### ะขะตัะฝะพะปะพะณะธัะตัะบะธะต ัะปัััะตะฝะธั
- [ ] ะะธะบัะพัะตัะฒะธัะฝะฐั ะฐััะธัะตะบัััะฐ
- [ ] ะะฑะปะฐัะฝะพะต ัะฐะทะฒะตัััะฒะฐะฝะธะต (Kubernetes)
- [ ] Real-time ัััะธะผะธะฝะณ ะดะฐะฝะฝัั
- [ ] Advanced AI ะผะพะดะตะปะธ (GPT-6, ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะต ะผะพะดะตะปะธ)

## ๐ ะัะพะธะทะฒะพะดะธัะตะปัะฝะพััั

### ะะตะฝัะผะฐัะบะธ

| ะะตััะธะบะฐ | ะขะตะบััะตะต ะทะฝะฐัะตะฝะธะต | ะฆะตะปะตะฒะพะต ะทะฝะฐัะตะฝะธะต |
|---------|------------------|------------------|
| ะัะตะผั ะพัะฒะตัะฐ ะฑะพัะฐ | 2.5 ัะตะบ | < 3 ัะตะบ |
| ะัะตะผั ะณะตะฝะตัะฐัะธะธ AI-ัะตะบะพะผะตะฝะดะฐัะธะธ | 12 ัะตะบ | < 15 ัะตะบ |
| Uptime | 99.2% | > 99.5% |
| ะฃัะฟะตัะฝะพััั AI ะทะฐะฟัะพัะพะฒ | 96.5% | > 95% |
| ะะพััะตะฑะปะตะฝะธะต ะฟะฐะผััะธ | 150MB | < 200MB |

### ะะฟัะธะผะธะทะฐัะธั

- **ะััะธัะพะฒะฐะฝะธะต** ััะฝะพัะฝัั ะดะฐะฝะฝัั (TTL 1 ะผะธะฝััะฐ)
- **Batch ะทะฐะฟัะพัั** ะดะปั ะฝะตัะบะพะปัะบะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- **ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ** AI ะทะฐะฟัะพัะพะฒ
- **ะะฟัะธะผะธะทะฐัะธั ะฑะฐะทั ะดะฐะฝะฝัั** ั ะธะฝะดะตะบัะฐะผะธ

## ๐ค ะกะพะพะฑัะตััะฒะพ

### ะะบะปะฐะด ะฒ ะฟัะพะตะบั
- **Open source** ะปะธัะตะฝะทะธั MIT
- **Contributing guidelines** ะดะปั ัะฐะทัะฐะฑะพััะธะบะพะฒ
- **Code review** ะฟัะพัะตัั
- **Automated testing** (CI/CD)

### ะะฑัะฐัะฝะฐั ัะฒัะทั
- **User feedback system** ะดะปั ัะฑะพัะฐ ะผะฝะตะฝะธะน
- **Analytics** ะดะปั ะพััะปะตะถะธะฒะฐะฝะธั ะธัะฟะพะปัะทะพะฒะฐะฝะธั
- **A/B testing** ะดะปั ะฝะพะฒัั ััะฝะบัะธะน
- **Community forum** ะดะปั ะพะฑััะถะดะตะฝะธะน

---

**๐ Gazprom Trading Bot - ััะพ ะฝะต ะฟัะพััะพ ะฑะพั, ััะพ ะธะฝัะตะปะปะตะบััะฐะปัะฝะฐั ัะพัะณะพะฒะฐั ัะธััะตะผะฐ ะฑัะดััะตะณะพ!**